<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 400px;
        width: 60%;
       }
    </style>
  </head>
  <body>
    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script>
      function initMap() {
        var uluru = {lat: <%= lat %>, lng: <%= lng %>};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
	  draggable:true,
          map: map
        });
	



	google.maps.event.addListener(marker, 'dragend', function() {
	console.log([marker.getPosition().lat(),marker.getPosition().lng()]);
	var Lat = document.getElementById('Lat');
	Lat.value= marker.getPosition().lat();
	var Lng = document.getElementById('Lng');
	Lng.value = marker.getPosition().lng();						
	});
	}


    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAc9wqXmGnendlUBinhWs1FYCmb2qn-XtQ&callback=initMap">
    </script>

    <div class="container">
      <fieldset>
        <form action="/" method="post">
          <input name="lat" id="Lat" type="text" class="ghost-input" value=<%=lat %> placeholder="Latitude">
	  <input name="lng" id="Lng" type="text" class="ghost-input" value= <%=lng %> placeholder="Longitude">
          <input type="submit" class="ghost-button" value="Caculate">
	  <input type="text" id ="red" name="textbox1" value = "<%= red %>" disabled="disabled" />
	  <input type="text" id ="green" name="textbox2" value = "<%= green %>" disabled="disabled" />
	  <input type="text" id ="blue" name="textbox3" value = "<%= blue %>" disabled="disabled" />
        </form>


      </fieldset>
    </div>
  </body>
</html>